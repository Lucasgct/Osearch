openapi: 3.0.0
info:
  version: 1.0.0
  title: OpenSearch Identity Permission API
  license:
    name: Apache 2.0
jsonSchemaDialect:
paths:
  cluster/permissions:
    get:
      requestBody:
        description: Get a list of all permissions granted to a given principal
        content:
          application/json:
            name: username
            description: the username of the principal name to get the permissions for
            required: true
            schema:
              type: string
              format: utf-8
      responses:
        "200":
          description: Return a 200 status to indicate success and show the requested permissions
          application/json:
              description: A list of permission strings
        default:
          description: illegal argument exception
    put:
      requestBody:
        description: Add a permission
        content:
          application/json:
            - name: username
              description: the principal name to grant a permission to
              required: true
              schema:
                type: string
                format: utf-8
            - name: permission
              description: the permission string for the permission being granted
              required: true
              schema:
                type: string
                format: utf-8
      responses:
        "200":
          description: Return a 200 status to indicate that the permission was added
          application/json:
            schema:
              type: string
              format: utf-8
        default:
          description: unexpected error
    delete:
      requestBody:
        description: Delete a permission
        content:
          application/json:
            - name: username
              description: the username of the principal to delete a permission from
              required: true
              schema:
                type: string
                format: utf-8
            - name: permission
              description: the permission string for the permission being deleted
              required: true
              schema:
                type: string
                format: utf-8
      responses:
        "200":
          description: Return a 200 status to indicate that the permission was deleted
          application/json:
            schema:
              type: string
              format: utf-8
        default:
          description: unexpected error
