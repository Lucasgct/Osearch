 * Copyright OpenSearch Contributors
 * SPDX-License-Identifier: Apache-2.0
 */

apply plugin: 'opensearch.build'
apply plugin: 'opensearch.publish'

group = 'org.opensearch.plugin'
archivesBaseName = 'opensearch-job-scheduler-spi'

def slf4j_version_of_cronutils = "1.7.36"
dependencies {
    api project(":server")
    // slf4j is the runtime dependency of cron-utils
    // if cron-utils version gets bumped, pls check the slf4j version cron-utils depending on
    //  and bump if needed
    implementation "com.cronutils:cron-utils:9.2.0"
    runtimeOnly "org.slf4j:slf4j-api:${slf4j_version_of_cronutils}"
    testImplementation project(":test:framework")
}

tasks.register("integTest", Test) {
  include "**/*IT.class"
}

thirdPartyAudit {
  ignoreMissingClasses(
    'javax.validation.ConstraintValidator',
    'javax.validation.ConstraintValidatorContext',
    'javax.validation.ConstraintValidatorContext$ConstraintViolationBuilder',
    'org.slf4j.impl.StaticLoggerBinder',
    'org.slf4j.impl.StaticMDCBinder',
    'org.slf4j.impl.StaticMarkerBinder'
  )
}